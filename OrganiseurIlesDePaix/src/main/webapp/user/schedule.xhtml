<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:composition template="/template.xhtml">
        <ui:define name="title">
            Programme
        </ui:define>
        <ui:define name="body">
            <h:form>
                <p:outputPanel id="calendar">
                    <table>
                        <tr>
                            <ui:repeat value="#{userScheduleController.campaignDays}"
                                       var="day">
                                <th><h:outputText value="#{day.date}">
                                        <f:convertDateTime pattern="EEEE dd/MM/yyyy" locale="fr_BE" timeZone="Europe/Brussels"/>
                                    </h:outputText>
                                </th>
                            </ui:repeat>
                        </tr>
                        <tr>
                            <ui:repeat value="#{userScheduleController.campaignDays}"
                                       var="campaignDay">
                                <td>
                                    <p:outputPanel style="height: 460px; width: 240px;">

                                        <p:schedule allDaySlot="false"
                                                    clientTimeZone="Europe/Brussels"
                                                    initialDate="#{campaignDay.date}"
                                                    showHeader="false"
                                                    timeFormat="HH:mm"
                                                    timeZone="Europe/Brussels"
                                                    locale="fr_BE"
                                                    view="agendaDay"
                                                    maxTime="21:00"
                                                    minTime="7:00"
                                                    aspectRatio="0.6"
                                                    slotDuration="01:00:00"
                                                    columnFormat="dddd DD/MM/YYYY"
                                                    axisFormat="HH:mm"
                                                    tooltip="true"
                                                    style="height: 420px; overflow: hidden;"
                                                    value="#{userScheduleController.getScheduleModel(campaignDay)}">
                                        </p:schedule>
                                    </p:outputPanel>
                                </td>
                            </ui:repeat>
                        </tr>
                    </table>
                </p:outputPanel>
            </h:form>
        </ui:define>
    </ui:composition>
</html>

